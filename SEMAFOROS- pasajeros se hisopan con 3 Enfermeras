Simular la atención en una Terminal de Micros que posee 3 puestos para hisopar a 150
pasajeros. En cada puesto hay una Enfermera que atiende a los pasajeros de acuerdo al
orden de llegada al mismo. Cuando llega un pasajero se dirige al puesto que tenga menos
gente esperando. Espera a que la enfermera correspondiente lo llame para hisoparlo, y luego
se retira. Nota: suponer que existe una función Hisopar() que simula la atención del pasajero
por parte de la enfermera correspondiente.


ColaPuesto cola[3];                 //cola para cada uno de los tres puestos
int cantPasajerosPueto[3]=([3] 0);    //cantidad de pasajeros en cada cola
sem mutex = 1;                      // Semáforo para uso atómico de cola
sem solicitud[3]= ([3] 0);              
sem turno[150]= ([150] 0);                  
sem terminoHisopado[150] = ([150] 0);     

process Pasajero[id: 0..149] {
    int idEnfermera    

    P(mutex)
    idEnfermera=obtenerMinimaFila(cantPasajerosPuesto);
    cantPasajerosPuesto[idEnfermera]++;
    push(cola[idEnfermera]);
    V(mutex)
  
    V(solicitud[idEnfermera]);

    P(turno[id]);
    //le toca hizoparse
    ...
    //termino su hizopado
    v(terminoHisopado[id]);
    
   //se retira
}

process Enfermera [id:0..2]{
    int idPasajero;

    while(true) {
      P(solicitud[id]);

      P(mutex)
      pop(cola[idEnfermera],idPasajero);
      V(mutex)

      V(turno[idPasajero]);
    
      Hisopar()

      P(terminoHisopado[idPasajero]);
    }
}

